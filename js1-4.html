<!DOCTYPE html>
<html lang="js">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>

    // タスクの初期値ーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーー
    const tasks = [
      {content: "机を片付ける",genre: "睡眠"},
      {content: "牛乳を買う",genre: "買い物"},
      {content: "散歩する",genre: "運動"},
    ];

    // タスクを確認する関数ーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーー
    const showTask = () => {
      console.log("==============================");
      console.log("現在持っているタスク一覧");
      console.log("==============================");
      tasks.forEach((task,i) => {
        console.log(`${i} : 【内容】${task.content}、【ジャンル】${task.genre}`);
      });
    };

    // タスクを追加する関数ーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーー
    const addTask = () => {
      let newContent  = prompt("タスクを入力してください");
      let newGenre = prompt("ジャンルを入力してください");
      let newTask = {content: newContent, genre: newGenre};
      tasks.push(newTask);
    };

    // タスクを削除する関数ーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーー
    const deleteTask = () => {     
      while (true) {
        let i = prompt("何番を削除しますか？");
        if (!isNaN(i)) {
          alert(`${i}番の「${tasks[i].content}」を削除しました`);
          tasks.splice(i, 1);
          break;
        } else {
          alert("半角数字にて入力してください");
        }
      }
    };

    showTask();
    addTask();
    while (true) {
      showTask();
      let input = prompt("「確認,追加,削除,終了」の４つのいずれかを入力してください");
      switch (input) {
        case "確認":
          showTask();
          break;
        case "追加":
          addTask();
          break;
        case "削除":
          deleteTask();
          break;
        }
      if (input === "終了") {
        alert("終了です");
        break;
      }
    }

  </script>
</body>
</html>